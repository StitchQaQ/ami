# æ–‡ç« æŒ‰æ›´æ–°æ—¥æœŸæ’åºè¯´æ˜

## âœ… å·²å®Œæˆçš„é…ç½®

åœ¨ `hugo.toml` ä¸­æ·»åŠ äº†ä»¥ä¸‹é…ç½®ï¼š

```toml
# Front Matter æ—¥æœŸé…ç½®ï¼ˆä¼˜å…ˆä½¿ç”¨æ›´æ–°æ—¶é—´æ’åºï¼‰
[frontmatter]
date = ["lastmod", "date", "publishDate"]
lastmod = [":git", "lastmod", "date", "publishDate"]
publishDate = ["publishDate", "date"]
```

### é…ç½®è¯´æ˜

è¿™ä¸ªé…ç½®è®© Hugo æŒ‰ä»¥ä¸‹ä¼˜å…ˆçº§è¯»å–æ—¥æœŸï¼š

1. **`date` å­—æ®µ**ï¼šä¼˜å…ˆè¯»å– `lastmod`ï¼Œå¦‚æœæ²¡æœ‰åˆ™è¯»å– `date`ï¼Œæœ€åæ‰æ˜¯ `publishDate`
2. **`lastmod` å­—æ®µ**ï¼š
   - `:git` - ä¼˜å…ˆä½¿ç”¨ Git æœ€åæäº¤æ—¶é—´
   - `lastmod` - å¦‚æœæœ‰æ‰‹åŠ¨è®¾ç½®çš„ `lastmod` ä½¿ç”¨å®ƒ
   - `date` - å›é€€åˆ°åˆ›å»ºæ—¥æœŸ
   - `publishDate` - æœ€åæ‰ç”¨å‘å¸ƒæ—¥æœŸ

## ğŸ“ å¦‚ä½•ä½¿ç”¨

### æ–¹æ³• 1ï¼šæ‰‹åŠ¨è®¾ç½®æ›´æ–°æ—¶é—´ï¼ˆæ¨èï¼‰

åœ¨æ–‡ç« çš„ Front Matter ä¸­æ·»åŠ  `lastmod` å­—æ®µï¼š

```markdown
---
title: "æ–‡ç« æ ‡é¢˜"
date: 2025-01-15T10:00:00+08:00
lastmod: 2025-02-20T15:30:00+08:00  # æ›´æ–°æ—¶é—´
draft: false
tags: ["Hugo"]
---

æ–‡ç« å†…å®¹...
```

æ¯æ¬¡æ›´æ–°æ–‡ç« æ—¶ï¼Œæ‰‹åŠ¨ä¿®æ”¹ `lastmod` ä¸ºå½“å‰æ—¶é—´ã€‚

### æ–¹æ³• 2ï¼šè‡ªåŠ¨ä½¿ç”¨ Git æäº¤æ—¶é—´

å¦‚æœæƒ³è®© Hugo è‡ªåŠ¨ä½¿ç”¨ Git çš„æœ€åæäº¤æ—¶é—´ä½œä¸ºæ›´æ–°æ—¶é—´ï¼Œéœ€è¦ï¼š

#### 1. å¯ç”¨ Git ä¿¡æ¯

åœ¨ `hugo.toml` ä¸­æ·»åŠ ï¼š

```toml
enableGitInfo = true
```

#### 2. æ³¨æ„äº‹é¡¹

- è¿™ä¼šè®© Hugo è¯»å–æ¯ä¸ªæ–‡ä»¶çš„ Git æäº¤å†å²
- é¦–æ¬¡æ„å»ºä¼šç¨æ…¢ä¸€äº›
- é€‚åˆå›¢é˜Ÿåä½œï¼Œè‡ªåŠ¨è·Ÿè¸ªæ–‡ä»¶ä¿®æ”¹æ—¶é—´

### æ–¹æ³• 3ï¼šåªåœ¨æ–‡ç« åˆ—è¡¨æ˜¾ç¤ºæ›´æ–°æ—¶é—´

å¦‚æœä¸æƒ³æ”¹æ’åºï¼Œåªæƒ³åœ¨æ–‡ç« é¡µé¢æ˜¾ç¤ºæ›´æ–°æ—¶é—´ï¼Œåªéœ€åœ¨ Front Matter ä¸­æ·»åŠ  `lastmod` å³å¯ã€‚

Stack ä¸»é¢˜ä¼šè‡ªåŠ¨åœ¨æ–‡ç« åº•éƒ¨æ˜¾ç¤ºï¼š

> ğŸ“… æœ€åæ›´æ–°äºï¼š2025-02-20 15:30

## ğŸ” éªŒè¯æ•ˆæœ

### æŸ¥çœ‹æ–‡ç« æ’åº

```bash
# æœ¬åœ°é¢„è§ˆ
hugo serve

# è®¿é—® http://localhost:1313
# é¦–é¡µçš„æ–‡ç« åˆ—è¡¨ç°åœ¨ä¼šæŒ‰æ›´æ–°æ—¶é—´æ’åº
```

### æ‰¹é‡æ·»åŠ  lastmod

å¦‚æœä½ æƒ³ç»™æ‰€æœ‰æ–‡ç« æ‰¹é‡æ·»åŠ  `lastmod` å­—æ®µï¼š

```bash
# ä½¿ç”¨è„šæœ¬æ‰¹é‡å¤„ç†ï¼ˆç¤ºä¾‹ï¼‰
for file in content/posts/*.md; do
  # è·å–æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´
  lastmod=$(git log -1 --format="%aI" "$file" 2>/dev/null || date -Iseconds)
  
  # æ£€æŸ¥æ˜¯å¦å·²æœ‰ lastmod
  if ! grep -q "^lastmod:" "$file"; then
    # åœ¨ Front Matter ä¸­æ’å…¥ lastmod
    sed -i '' "/^date:/a\\
lastmod: $lastmod
" "$file"
  fi
done
```

## ğŸ“Š æ’åºä¼˜å…ˆçº§æ€»ç»“

ç°åœ¨æ–‡ç« åˆ—è¡¨çš„æ’åºè§„åˆ™ï¼š

1. âœ… å¦‚æœæ–‡ç« æœ‰ `lastmod` â†’ æŒ‰ `lastmod` æ’åº
2. âœ… å¦‚æœå¯ç”¨äº† `enableGitInfo` â†’ æŒ‰ Git æäº¤æ—¶é—´æ’åº
3. âœ… å¦‚æœéƒ½æ²¡æœ‰ â†’ æŒ‰ `date` åˆ›å»ºæ—¶é—´æ’åº

## ğŸ¯ ç¤ºä¾‹ï¼šæ›´æ–°ä¸€ç¯‡æ—§æ–‡ç« 

å‡è®¾ä½ æœ‰ä¸€ç¯‡æ—§æ–‡ç« ï¼š

```markdown
---
title: "Hugo å…¥é—¨æ•™ç¨‹"
date: 2024-01-15T10:00:00+08:00
draft: false
---
```

ç°åœ¨ä½ æ›´æ–°äº†å†…å®¹ï¼Œæ·»åŠ  `lastmod`ï¼š

```markdown
---
title: "Hugo å…¥é—¨æ•™ç¨‹"
date: 2024-01-15T10:00:00+08:00
lastmod: 2025-02-20T16:00:00+08:00  # ğŸ‘ˆ æ·»åŠ è¿™ä¸€è¡Œ
draft: false
---
```

è¿™ç¯‡æ–‡ç« å°±ä¼šå‡ºç°åœ¨é¦–é¡µæ–‡ç« åˆ—è¡¨çš„æœ€å‰é¢ï¼

## ğŸ’¡ æœ€ä½³å®è·µ

### æ–°æ–‡ç« 

åˆ›å»ºæ–°æ–‡ç« æ—¶ï¼š

```bash
hugo new posts/my-new-post.md
```

Hugo ä¼šè‡ªåŠ¨è®¾ç½® `date` ä¸ºå½“å‰æ—¶é—´ã€‚

### æ›´æ–°æ–‡ç« 

æ¯æ¬¡ä¿®æ”¹æ–‡ç« å†…å®¹åï¼š

```bash
# æ‰‹åŠ¨æ›´æ–° lastmod
# æˆ–è€…ä¾èµ– Git æäº¤æ—¶é—´ï¼ˆå¦‚æœå¯ç”¨äº† enableGitInfoï¼‰
git add content/posts/my-post.md
git commit -m "Update: my post"
```

### RSS Feed

RSS è®¢é˜…ä¹Ÿä¼šæŒ‰ç…§æ›´æ–°æ—¶é—´æ’åºï¼Œè¯»è€…èƒ½çœ‹åˆ°ä½ æœ€æ–°æ›´æ–°çš„æ–‡ç« ã€‚

## ğŸ”— ç›¸å…³é“¾æ¥

- [Hugo Front Matter æ–‡æ¡£](https://gohugo.io/content-management/front-matter/)
- [Hugo Git Info æ–‡æ¡£](https://gohugo.io/variables/git/)
- [Hugo æ—¥æœŸæ ¼å¼](https://gohugo.io/functions/dateformat/)

